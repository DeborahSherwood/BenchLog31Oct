"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var testvar=444,random=(Config.passages.nobr=!0,State.variables.posY=3,State.variables.posX=6,State.variables.offY=0,State.variables.offX=0,$(document).on(":passageend",function(t){if($("canvas#floorMap").length){var e=document.querySelector("#floorMap").getContext("2d"),r=[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],i=50,s=51;e.fillStyle="#222222",e.fillRect(0,0,r[0].length*s+2,r.length*s+2);for(var n=0;n<r.length;n++)for(var a=0;a<r[n].length;a++)0!==a&&1!==a&&2!==a||0!==n&&1!==n?3!==a&&4!==a&&5!==a||0!==n&&1!==n?6!==a&&7!==a&&8!==a||0!==n&&1!==n?0!==a&&1!==a&&2!==a||2!==n&&3!==n?0!==a&&1!==a&&2!==a||4!==n&&5!==n?3!==a&&4!==a&&5!==a||4!==n&&5!==n?6!==a&&7!==a&&8!==a||2!==n&&3!==n?6!==a&&7!==a&&8!==a||4!==n&&5!==n?0===r[n][a]&&(e.fillStyle="grey",e.fillRect(a*s+1+1,n*s+1+1,i,i)):(e.fillStyle="#B2CED9",e.fillRect(a*s+1+1,n*s+1+1,i,i)):(e.fillStyle="#2E4E59",e.fillRect(a*s+1+1,n*s+1+1,i,i)):(e.fillStyle="#83989F",e.fillRect(a*s+1+1,n*s+1+1,i,i)):(e.fillStyle="#54594F",e.fillRect(a*s+1+1,n*s+1+1,i,i)):(e.fillStyle="#6A8C4D",e.fillRect(a*s+1+1,n*s+1+1,i,i)):(e.fillStyle="#48798B",e.fillRect(a*s+1+1,n*s+1+1,i,i)):(e.fillStyle="#83989F",e.fillRect(a*s+1+1,n*s+1+1,i,i)):(e.fillStyle="#8C8469",e.fillRect(a*s+1+1,n*s+1+1,i,i))}}),setInterval(function(){var t=State.variables;t.timeLimit<t.seconds&&(--t.seconds,$("#time").text(t.seconds))},1e3),$(document).on(":passagestart",function(t){t.passage.tags.includes("noreturn")||(State.variables.return=t.passage.title)}),$(document).on(":passageend",function(t){var n,e;$("canvas#test").length&&((n=document.querySelector("#test").getContext("2d")).fillStyle="#83989F",n.strokeStyle="#83989F",n.lineWidth=3,(e=function(t,e,r){n.beginPath();for(var i=0;i<6;i++){var s=2*Math.PI/6;n.lineTo(t+r*Math.cos(s*i),e+r*Math.sin(s*i))}n.closePath(),n.stroke()})(102,85,58),e(65,190,63),e(205,110,58),e(302,135,52),e(276,232,60),e(206,330,65),e(101,297,60),n.font="12px sans-serif",n.textAlign="center",n.fillText("Sanguine Shore",102,85),n.fillText("Farmers Alliance",65,190),n.fillText("Arts District",205,110),n.fillText("MetroPort",302,135),n.fillText("Market District",276,232),n.fillText("Manufacturing Yards",206,330),n.fillText("Virtual Playground",101,297),n.beginPath(),n.moveTo(250,190),n.lineTo(255,200),n.lineTo(266,200),n.lineTo(257,208),n.lineTo(261,219),n.lineTo(250,213),n.lineTo(239,219),n.lineTo(243,208),n.lineTo(235,200),n.lineTo(245,200),n.lineTo(250,190),n.fill())}),Math.floor(9e3*Math.random()+1e3)),today=(State.variables.decode=random,new Date),date=today.getMonth()+1+"-"+today.getDate()+"-"+today.getFullYear(),time=today.getHours()+":"+today.getMinutes()+":"+today.getSeconds(),dateTime=date+" "+time;State.variables.curDateTime=dateTime,setup.VarUtils={isArray:function(t){return Array.isArray(t)},isBoolean:function(t){return"boolean"==typeof t},isDate:function(t){return setup.VarUtils.isObject(t)&&t instanceof Date},isFunction:function(t){return"function"==typeof t},isGenericObject:function(t){return setup.VarUtils.isObject(t)&&t.constructor===Object},isInteger:function(t){return Number.isInteger(t)},isMap:function(t){return setup.VarUtils.isObject(t)&&t instanceof Map},isNull:function(t){return null===t},isNumber:function(t){return"number"==typeof t&&Number.isFinite(t)&&!Number.isNaN(t)},isObject:function(t){return!!t&&"object"===_typeof(t)},isProperty:function(t,e){var r=!1;if(setup.VarUtils.isObject(t)&&!(r=!!t&&hasOwnProperty.call(t,e)))try{r=void 0!==t[e]}catch(t){r=!1}return r},isRegExp:function(t){return setup.VarUtils.isObject(t)&&t.constructor===RegExp},isSet:function(t){return setup.VarUtils.isObject(t)&&t instanceof Set},isString:function(t){return"string"==typeof t||t instanceof String},isUndefined:function(t){return void 0===t},spread:function(t,e){var i=[];return setup.VarUtils.isArray(t)?i=clone(t):setup.VarUtils.isMap(t)?t.forEach(function(t,e,r){i.push([e,t])}):setup.VarUtils.isSet(t)?t.forEach(function(t,e,r){i.push(t)}):setup.VarUtils.isString(t)&&(i=t.split("")),setup.VarUtils.isFunction(e)?e.apply(null,i):i=setup.VarUtils.isObject(e)?i.concat(setup.VarUtils.spread(e)):i},arraysAreEqual:function(t,e,r){if(setup.VarUtils.isArray(t)&&setup.VarUtils.isArray(e)){var i=0;if(0<(r=setup.VarUtils.isUndefined(r)?[]:r).length)for(i=0;i<r.length;i++)if(r[i][0]===t&&r[i][1]===e||r[i][0]===e&&r[i][1]===t)return!0;if(r.push([t,e]),t.length!==e.length)return!1;if(0<t.length)for(i=0;i<t.length;i++)if(!setup.VarUtils.valuesAreEqual(t[i],e[i],r))return!1;return!0}return!1},mapsAreEqual:function(t,e,r){if(setup.VarUtils.isMap(t)&&setup.VarUtils.isMap(e)&&t.size===e.size){if(0<(r=setup.VarUtils.isUndefined(r)?[]:r).length)for(var i=0;i<r.length;i++)if(r[i][0]===t&&r[i][1]===e||r[i][0]===e&&r[i][1]===t)return!0;r.push([t,e]);var s=setup.VarUtils.spread(t),n=setup.VarUtils.spread(e);return setup.VarUtils.arraysAreEqual(s,n,r)}return!1},objectsAreEqual:function(t,e,r){if(setup.VarUtils.isObject(t)&&setup.VarUtils.isObject(e)){var i=0;if(0<(r=setup.VarUtils.isUndefined(r)?[]:r).length)for(i=0;i<r.length;i++)if(r[i][0]===t&&r[i][1]===e||r[i][0]===e&&r[i][1]===t)return!0;if(r.push([t,e]),setup.VarUtils.isGenericObject(t)&&setup.VarUtils.isGenericObject(e)){var s=Object.keys(t).sort(),n=Object.keys(e).sort();if(!setup.VarUtils.arraysAreEqual(s,n))return!1;if(0<s.length)for(var a,i=0;i<s.length;i++)if(a=s[i],!setup.VarUtils.valuesAreEqual(t[a],e[a],r))return!1;return!0}return setup.VarUtils.valuesAreEqual(t,e,r)}return!1},setsAreEqual:function(t,e,r){if(setup.VarUtils.isSet(t)&&setup.VarUtils.isSet(e)&&t.size===e.size){if(0<(r=setup.VarUtils.isUndefined(r)?[]:r).length)for(var i=0;i<r.length;i++)if(r[i][0]===t&&r[i][1]===e||r[i][0]===e&&r[i][1]===t)return!0;r.push([t,e]);var s=setup.VarUtils.spread(t),n=setup.VarUtils.spread(e);return setup.VarUtils.arraysAreEqual(s,n,r)}return!1},setsMatch:function(t,e){if(setup.VarUtils.isSet(t)&&setup.VarUtils.isSet(e)&&t.size===e.size){if(0<t.size)for(var r=t.values(),i=r.next();!i.done;){if(!e.has(i.value))return!1;i=r.next()}return!0}},valuesAreEqual:function(t,e,r){if(_typeof(t)!==_typeof(e))return!1;switch(_typeof(t)){case"string":case"number":case"boolean":return t===e;case"undefined":return!0;case"object":return setup.VarUtils.isArray(t)&&setup.VarUtils.isArray(e)?setup.VarUtils.arraysAreEqual(t,e,r):setup.VarUtils.isGenericObject(t)&&setup.VarUtils.isGenericObject(e)?setup.VarUtils.objectsAreEqual(t,e,r):setup.VarUtils.isDate(t)&&setup.VarUtils.isDate(e)?t-e==0:setup.VarUtils.isMap(t)&&setup.VarUtils.isMap(e)?setup.VarUtils.mapsAreEqual(t,e,r):setup.VarUtils.isSet(t)&&setup.VarUtils.isSet(e)?setup.VarUtils.setsAreEqual(t,e,r):null===t&&null===e;default:return!1}},indexOfObject:function(t,e,r){if(setup.VarUtils.isArray(t)){if(0===t.length)return 0;for(var i=r=(r=!setup.VarUtils.isUndefined(r)&&setup.VarUtils.isInteger(r)?r:0)<0&&(r=t.length+r)<0?0:r;i<t.length;i++)if(setup.VarUtils.valuesAreEqual(e,t[i]))return i;return 0}}},Array.prototype.indexOfObject=function(t,e){return setup.VarUtils.indexOfObject(this,t,e)};